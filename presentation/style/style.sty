\let\oldAA\AA
\let\oldaa\aa
\def\AA{\^ A}
\def\aa{\^ a}
\def\myqq@{'}
\catcode`\'=13
\def'#1{\ifmmode {}^\prime #1%
         \else\ifx#1a\u{a}%
         \else\ifx#1i\^{\i}%
         \else\ifx#1s\c{s}%
         \else\ifx#1t\c{t}%
         \else\ifx#1A\u{A}%
         \else\ifx#1I\^{I}%
         \else\ifx#1S\c{S}%
         \else\ifx#1T\c{T}%
         \else\ifx#1"\myqq@%
               \fi\fi\fi\fi\fi\fi\fi\fi\fi%
         \fi}

\usepackage{listings}         
\lstset{breakatwhitespace,
tabsize=3,
language=Java,
columns=fullflexible,
keepspaces,
breaklines,
tabsize=3, 
showstringspaces=false,
extendedchars=true}